# C言語 / C++  

```admonish info "プログラミング言語とは"
機械(コンピューターなど)にさせる処理を記述する言語です。人と人間をつなぐ言語です。  
プログラミング言語には様々な種類があります。  
また、プログラミング言語で記述されたものを**プログラム**と言います。  
```

```admonish info "C言語とは"
数多のプログラミング言語の中でも有名かつ古くから利用されているプログラミング言語の1つです。  
システムの記述を目的として開発され、人間にも理解しやすい仕様で、コンピューターを直接操作するような特徴を併せ持ちます。  
実行するためにはコンパイルとリンク(ソースコードを機械語に変換)が必要になります。  
```

```admonish info "プログラムの作成手順"
ウォーターフォールモデルに則って作成することをおすすめします。  

1. 内容の整理  
1. プログラムの設計  
1. プログラムの作成  
1. コンパイル・リンク  
1. 実行  
1. 評価  
1. 完成  

順番に行っていき、問題が発生したら問題の箇所に戻り、再度手順通りに作成を行います。  

```

## C言語の基礎

### C言語の基本構成

```admonish info "基本構成"
C言語のプログラムは関数が1つ以上集まって構成されます。プログラムを実行するためにはmain関数が必須であり、main関数はプログラムの実行時に一番最初に実行される関数です。  
それぞれの関数は1つ以上の文から構成され、引数(ひきすう)と戻り値の型を持ちます。  
文は`;`(セミコロン)で区切られ、改行などでは区切られません。  
```

````admonish example "関数の基本構成"

```c : 
関数の型 関数名(引数){  
    文1;  
    文2;  

    return 戻り値; 
}
```

````

````admonish example "有名なサンプルプログラム"
世界でも最も有名と言われているサンプルプログラムHello,World!を例に説明します。  

```c : helloworld.c
#include <stdio.h>

int main(void){
    printf("Hello,World!\n");

    return 0;
}
```

- `#include <stdio.h>`
    - あらかじめ用意されている標準入出力関数をプログラムで利用するために読み込むための命令です。
    - プログラムに組み込むファイル名を`<>`で囲むとシステムで用意されているファイルを読み込むことができます。
    - `""`で囲むとユーザーが用意したファイルを読み込むことができます。  
- `int main(void){`
    - 実行するために必要なmain関数の宣言・定義です。この場合は、関数の戻り値の型はint(整数型)で、引数はなし(void)であることを示しています。  
    
    ```admonish faq "型と引数"
    型と引数については、後で説明します。現段階では存在を覚えていてください。
    ```
- `printf("Hello,World!\n");`
    - 標準出力(基本はターミナルの画面)に`""`(ダブルクォーテーション)で囲まれた文字列を出力する関数です。
    - `stdio.h`で定義されています。
- `return 0;`
    - 関数の戻り値を0とし、関数の終了を意味します。ほとんどのシステムではmain関数の戻り値0は正常終了を意味します。
- `}`
    - 関数の終わりを意味します。main関数宣言部の最後の括弧と中身を挟んでmain関数の範囲を表現しています。

````

### コメント

````admonish info "コメント"

ソースコードの中で、動作には影響しない注釈をつけることができます。その注釈のことを指します。  
C言語では`//`(スラッシュ2つ)と`/* */`による2つの記述方法があります。  
`//`はこれ以降のその行をコメントとします。  
`/* */`は`/*`と`*/`で囲まれた最小区間をすべてコメントとします。こちらは改行が含まれていても問題ありません。

```c : 
// ここはコメントです。
ここはコメントではありません。  //  しかし、ここはコメントです。
/* ここはコメントです。
ここもコメントです。
/*  ここもコメントです。    */  ここはコメントではありません。
*/  ここもコメントではありません。
//  ここはコメントです。
```

````

### データ型と変数  

```admonish info "データ型"
変数や関数の戻り値など、データの格納や受け渡しのときのデータの種類を決める型のことです。  
主なデータ型を紹介します。  

- 文字(1文字)型：`char`
- 整数型：`char`、`short`、`int`、`long`など
- 実数型：`float`、`double`
- 空：`void`

文字型は、ASCIIコードの文字を扱えます。  
整数型は、最上位ビットを符号部とし格納します。  
実数型は、浮動小数点方式(IEEE 754)で格納します。

```

```admonish info "変数"
様々な文字、数値を保持(記憶・格納)しておく領域のことを指します。扱いは数学などの変数と同じものとして考えて問題はありません。
```

````admonish example "変数の宣言"
変数はデータ型と変数名を持ちます。変数名にはアルファベットとアンダースコア(アンダーバー)、数字を使用できます。しかし、変数名の先頭に数字を使用することはできません。  

```c : 
型 変数名;
int x;
```

同じ型の変数を複数宣言する場合は、`,`(カンマ)で区切って並べることができます。  

```c : 
int x_1, x_2;
char c_1, c_2;
```

````

````admonish example "変数へのアクセス"
変数に値を代入する場合は、`=`(イコール)を使用します。  

```c : 
x = 11;     // int x;
c = 's';    // char c;
y = x;      // int y;   変数yに変数xの値を代入する
```

左辺の変数に右辺の値を格納します。値を代入する場合は値と変数の型を一致させる必要があります。  

````

### 演算子

````admonish info "算術演算子"
数値や変数などを使用して、算術計算を行うときに使用します。  

- `+`：加算
- `-`：減算
- `*`：乗算
- `/`：除算
- `%`：剰余算

計算結果の変数など代入は、値の代入と同じ方法です。計算結果のデータ型は、整数型同士の演算は整数型になり、それ以外の組み合わせの演算では実数型になります。  
演算順序は数学と同じで括弧→乗除→加減です。  

```c : 
a + b
a - b
a * b
a / b
a % b   //  整数型のみ
```

````

```admonish warning "除算での注意点"
整数型同士で除算を行うと、演算結果は整数型となります。  
小数点以下は切り捨てられるため、実数型で結果を得るためには、どちらか一方が実数型である必要があります。
```

````admonish note "括弧の記述"
数学では、先に優先したい演算を様々な括弧(`()`、`{}`、`[]`)で囲います。  
C言語では演算の括弧はすべて`()`で囲い、次の式のような記述になります。  
$$ S = \left({(x_1 + x_2)} - {(y_1 + y_2)}\right) \times {2} $$  

```c : 
int s;
s = ((x_1 + x_2) - (y_1 + y_2)) * 2;
```

````

````admonish tip "数学にはない演算"
プログラミング言語では自分自身に自身の値を演算した結果を代入することができます。  
`a = a + 5;`

````

````admonish info "論理演算子"
数値や変数などを使用して、論理計算を行うときに使用します。  
論理演算には種類があり、ビット単位での演算と変数や数値単位での演算の2つがあります。  

ビット単位の演算  

- `&`：論理積(AND)
- `|`：論理和(OR)
- `^`：排他的論理和(XOR)
- `~`：否定(NOT)

```c : 
a & b
a | b
a ^ b
~a
```

変数や数値単位での演算  
C言語では、ビット単位ではなく変数や数値に対して論理演算を行う場合は、`0`を偽(`false`)、それ以外を真(`true`)として扱います。  

- `&&`：論理積(AND)
- `||`：論理和(OR)
- `!`：否定(NOT)

```c : 
a && b
a || b
!a
```

````

```admonish info "比較演算子"
変数や数値の大小関係を調べるときに使用します。演算結果は式が成り立つ場合は`1`(`true`)、成り立たない場合は`0`(`false`)を得ることができます。  

| 数学表現 | ｃ言語表現 |  
| :-----: | :-------: |  
| = | == |
| < | < |
| > | > |
| ≦ | <= |
| ≧ | >= |
| ≠ | != |  

特に、数学表現の`=`はC言語では代入を意味するため間違えないよう注意してください。  

```

```admonish info "増減演算子"
変数の値を`1`増減する演算子です。

- `++`：増分(インクリメント)  
- `--`：減分(デクリメント)  

前置増減(`++a`、`--b`)と後置増減(`a++`、`b--`)の2種類があります。  
前置増減は変数の値を増減した後に、変数の値を使用します。反対に、後置増減が変数の値を使用した後に、変数の値を増減します。  
```

```admonish info "シフト演算子"
変数や数値を2進数表記で左右にビットシフトします。シフトして空いたビットは`0`で埋められます(シフトする値が負の場合は`0`ではなく`1`で埋められる場合があります)。  

- `>>`：右シフト  
- `<<`：左シフト
```

```admonish info "代入演算子"
変数に値を代入するときに、他の演算を同時に行うことができます。

- `=`：単純代入：`a = b`
- `+=`：加算代入：`a += b`は`a = a + b`と同じ
- `-=`：減算代入：`a -= b`は`a = a - b`と同じ
- `*=`：乗算代入：`a *= b`は`a = a * b`と同じ
- `/=`：除算代入：`a /= b`は`a = a / b`と同じ
- `%=`：剰余代入：`a %= b`は`a = a % b`と同じ
- `<<=`：左シフト代入：`a <<= b`は`a = a << b`と同じ
- `>>=`：右シフト代入：`a >> = b`は`a = a >> b`と同じ
- `&=`：ビット論理積代入：`a &= b`は`a = a & b`と同じ
- `|=`：ビット論理和代入：`a |= b`は`a = a | b`と同じ
- `^=`：ビット排他的論理和代入：`a ^= b`は`a = a^+ b`と同じ
```

```admonish warning "条件演算子"
他にも、条件演算子という演算子があります。しかし、個人的にはどこが評価式であるか、式であるかが分かりづらいと考えているため存在のみ紹介します。  
使用したい場合は各自で調べてください。使用は**おすすめしません**。
```

```admonish important "優先順位"
演算子には優先順位があります。ここでは紹介しませんが、もしいろいろな演算子を式中に使用していて、思ったとおりに動作しない場合は調べてみてください。  
`()`をつけるとそこが優先して演算されます。
```

### 標準入出力関数

````admonish info "標準出力"
ターミナルの画面に文字や数値を出力するときは`printf()`を使用します。  
`printf("書式文字列", 引数1, 引数2, ...);`  
書式文字列は出力する書式を指定します。

```c : 文字列の出力
printf("Hello,World!\n");
```

```c : 数値(整数)の出力
int x = 3;
printf("%d\n", x);
```

`%d`は出力変換指定子・フォーマット指定子と呼びます。一部を紹介します。  

| 記号 | 対応する型 |
| :-: | :-------: |
| %d | 整数 |
| %f | 実数 |
| %c | 文字 |  

他にもたくさんあります。必要に応じて調べてみてください。  

````

```admonish tip "桁数の指定"
数値を出力する場合は、桁数を指定することができます。

- `%3d`：整数3桁
- `%5.2f`：実数全体を5桁(小数点含む)、小数点以下を2桁

```

````admonish tip "文字列との組み合わせ"
フォーマット指定子と文字列を組み合わせることで数値と文字列を同時に出力することができます。

```c : 
int score = 59;
float rate = 60.0f;
printf("得点は%d点です。\n", score);
printf("合格する確率は%.1f%%です。\n", rate);
```

`%`という文字を出力したい場合は`%%`で出力できます。

````

````admonish info "標準入力"
ターミナルの画面から文字や数値を入力するときは`scanf()`を使用します。  
`scanf("書式文字列", 引数1, 引数2, ...);`  
書式文字列は出力する書式を指定します。書式指定子は出力の場合と基本同じですが、`double`型の場合は`%f`ではなく`%lf`になることに注意してください。  

```c : 文字(1文字)の入力
char c;
scanf("%c", &c);
```

```c : 数値(整数)の入力
int x;
scanf("%d", &x);
```

```c : 数値(実数(単精度)と実数(倍精度))の入力
float f;
double d;
scanf("%f %lf", &f, &d);
```

````

```admonish warning "入力時の注意点"
出力するときは、書式文字列に`\n`(改行文字)を含めていたが入力のときには含めないようにしてください。  
変数に値を代入するときは変数の実体を引数に渡すのではなく、変数の**ポインタ**を渡すようにしましょう。  
```

```admonish info "ポインタとは"
変数の領域を指し示すもののことです。詳しくは後で説明します。  
現時点では入力するときは変数に`&`(アンパサンド(アンド))をつけるとポインタになると思っていてください。  
```

### 条件分岐
